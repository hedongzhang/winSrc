/*
 * ACManager.h
 *
 *  Created on: 2015年5月5日
 *      Author: HDZhang
 */

#ifndef INC_ACMANAGER_H_
#define INC_ACMANAGER_H_

#include<iostream>
#include<map>

using namespace std;

namespace n_acmanager
{
	class ACManager
	{
	private:
		//系统配置文件路径
		string configFile;
		/* 保存关键配置值
		 * 保存结果路径 RESULT_PATH;
		 * 使用模板类型 TEMPLATE_TYPE;
		 * 服务名 SERVICE_NAME;
		 * 库名 LIB_NAME;
		 * SQL_CONTEXT;
		 * GROUP_ID;
		 * CLASS_ID;
		 * 节点名 INPUT_NODE; OUTPUT_NODE;
		 * 替换LATN_ID次数 RELPACE_LATNID_NUM;
		 */
		map<string,string> m_baseMessage;

		//关键字映射
		map<string,map<string,string> > m_keyMap;
		//代码模板映射
		map<string,string> m_codeTemplateMap;

	public:
		ACManager(string configFile);
		virtual ~ACManager();

		//获取关键值
		int getBaseMessage(const string keyName,string codeTemplate);
		//设置关键值
		int setBaseMessage(const string keyName,string codeTemplate);

		//获取特定的关键字映射
		int getKeyMap(const string keyName,map<string,string>& keyMap);
		//获取特定代码模板映射
		int getCodeTemplateMap(const string keyName,string& codeTemplate);
		//插入关键字映射
		int setKeyMap(const string keyName,map<string,string> keyMap);
		//插入代码模板映射
		int setCodeTemplateMap(const string keyName,string codeTemplate);

		//显示初始化信息
		static void showBaseMessage();


		//初始化变量
		int initMess();
		//读取配置信息
		int readConfig();
		//根据路径读取关键字模板配置
		int readKeyTemplate(string path);
		//根据路径读取代码模板配置
		int readCodeTemplate(string path);
		//输出读取的配置信息
		void showInitMessage();
	};



	//返回值
	const int RETURN_FAILED=0;
	const int RETURN_SUCCESS=1;
}



#endif /* INC_ACMANAGER_H_ */
